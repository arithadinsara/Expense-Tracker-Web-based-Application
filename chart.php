<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>

<canvas id="expenseChart" width="400" height="400"></canvas>


<script>
function generatePieChart() {
  // Get the data from the PHP-generated table and prepare it for the chart
  var table = document.querySelector('table');
  var data = [];
  var labels = [];

  for (var i = 1; i < table.rows.length; i++) {
    var name = table.rows[i].cells[0].textContent;
    var amount = parseFloat(table.rows[i].cells[3].textContent);

    data.push(amount);
    labels.push(name);
  }

  // Create the pie chart
  var ctx = document.getElementById('expenseChart').getContext('2d');
  var pieChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: labels,
      datasets: [{
        data: data,
        backgroundColor: [
          'red',
          'blue',
          'green',
          'yellow',
          'purple',
          // Add more colors if you have more data
        ],
      }],
    },
  });
}
</script>
